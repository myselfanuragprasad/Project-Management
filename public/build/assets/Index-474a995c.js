import{aK as j,bv as B,bl as V,bw as P,f as b,a as r,u as d,w as u,F as v,bx as D,o as i,X as U,b as e,j as m,v as _,g as N,t as n,c as g,aO as A,aQ as E,be as F}from"./app-463fd668.js";import{_ as J,a as T}from"./AuthenticatedLayout-06a6203f.js";import{a as K}from"./TextInput-3146addd.js";import{_ as L,a as M}from"./Pagination-8a4f8e31.js";import{_ as Q}from"./SelectInput-a5a50211.js";import{_ as k}from"./DangerButton-824dd117.js";import{T as x,h as f,P as X}from"./SwitchLangNavbar-ce8b6596.js";import q from"./Edit-0d801b82.js";import z from"./Delete-f0f5deb8.js";import G from"./DeleteBulk-7c1f8f33.js";import{_ as H}from"./Checkbox-4d1ef948.js";import"./SecondaryButton-3f05993d.js";import"./PrimaryButton-7fb30eb4.js";const R={class:"space-y-4"},W={class:"px-4 sm:px-0"},Y={class:"rounded-lg overflow-hidden w-fit"},Z={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ee={class:"flex justify-between p-2"},te={class:"flex space-x-2"},se={class:"overflow-x-auto scrollbar-table"},le={class:"w-full"},ae={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},re={class:"dark:bg-gray-900/50 text-left"},ne={class:"px-2 py-4 text-center"},oe=e("th",{class:"px-2 py-4 text-center"},"#",-1),de={class:"flex justify-between items-center"},ie={class:"flex justify-between items-center"},ce={class:"flex justify-between items-center"},pe={class:"flex justify-between items-center"},ue={class:"flex justify-between items-center"},me=e("th",{class:"px-2 py-4 sr-only"},"Action",-1),fe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},he=["value"],_e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},be={class:"flex justify-start items-center"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"flex justify-center items-center"},Ce={class:"rounded-md overflow-hidden"},Oe={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},Te={__name:"Index",props:{title:String,filters:Object,clients:Object,roles:Object,breadcrumbs:Object,perPage:Number},setup(h){const o=h,{_:$,debounce:C,pickBy:O}=D,t=j({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,client:null,dataSet:B().props.app.perpage}),c=l=>{t.params.field=l,t.params.order=t.params.order==="asc"?"desc":"asc"};V(()=>$.cloneDeep(t.params),C(()=>{let l=O(t.params);P.get(route("client.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150),{deep:!0});const I=l=>{var s;l.target.checked===!1?t.selectedId=[]:(s=o.clients)==null||s.data.forEach(p=>{t.selectedId.push(p.id)})},S=()=>{var l;((l=o.clients)==null?void 0:l.data.length)==t.selectedId.length?t.multipleSelect=!0:t.multipleSelect=!1};return(l,s)=>{const p=E("tooltip");return i(),b(v,null,[r(d(U),{title:o.title},null,8,["title"]),r(J,null,{default:u(()=>[r(T,{title:h.title,breadcrumbs:h.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",R,[e("div",W,[e("div",Y,[m(e("li",null,[r(d(N),{href:l.route("client.basicdetails"),class:"flex items-center px-4 py-2 rounded-lg font-medium text-white transition-colors duration-300 bg-primary hover:bg-primary-dark dark:bg-primary-dark dark:hover:bg-primary"},{default:u(()=>[e("span",null,n(l.lang().button.add),1)]),_:1},8,["href"])],512),[[_,l.can(["create client"])]]),r(q,{show:t.editOpen,onClose:s[0]||(s[0]=a=>t.editOpen=!1),client:t.client,title:o.title},null,8,["show","client","title"]),r(z,{show:t.deleteOpen,onClose:s[1]||(s[1]=a=>t.deleteOpen=!1),client:t.client,title:o.title},null,8,["show","client","title"]),r(G,{show:t.deleteBulkOpen,onClose:s[2]||(s[2]=a=>(t.deleteBulkOpen=!1,t.multipleSelect=!1,t.selectedId=[])),selectedId:t.selectedId,title:o.title},null,8,["show","selectedId","title"])])]),e("div",Z,[e("div",ee,[e("div",te,[r(Q,{modelValue:t.params.perPage,"onUpdate:modelValue":s[3]||(s[3]=a=>t.params.perPage=a),dataSet:t.dataSet},null,8,["modelValue","dataSet"]),m((i(),g(k,{onClick:s[4]||(s[4]=a=>t.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[r(d(x),{class:"w-5 h-5"})]),_:1})),[[_,t.selectedId.length!=0&&l.can(["delete client"])],[p,l.lang().tooltip.delete_selected]])]),r(K,{modelValue:t.params.search,"onUpdate:modelValue":s[5]||(s[5]=a=>t.params.search=a),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:l.lang().placeholder.search},null,8,["modelValue","placeholder"])]),e("div",se,[e("table",le,[e("thead",ae,[e("tr",re,[e("th",ne,[r(H,{checked:t.multipleSelect,"onUpdate:checked":s[6]||(s[6]=a=>t.multipleSelect=a),onChange:I},null,8,["checked"])]),oe,e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[7]||(s[7]=a=>c("name"))},[e("div",de,[e("span",null,n(l.lang().label.name),1),r(d(f),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[8]||(s[8]=a=>c("email"))},[e("div",ie,[e("span",null,n(l.lang().label.client_id),1),r(d(f),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=a=>c("email"))},[e("div",ce,[e("span",null,n(l.lang().label.client_erp_id),1),r(d(f),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[10]||(s[10]=a=>c("created_at"))},[e("div",pe,[e("span",null,n(l.lang().label.created),1),r(d(f),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[11]||(s[11]=a=>c("updated_at"))},[e("div",ue,[e("span",null,n(l.lang().label.updated),1),r(d(f),{class:"w-4 h-4"})])]),me])]),e("tbody",null,[(i(!0),b(v,null,A(h.clients.data,(a,w)=>(i(),b("tr",{key:w,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e("td",fe,[m(e("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:S,value:a.id,"onUpdate:modelValue":s[12]||(s[12]=y=>t.selectedId=y)},null,40,he),[[F,t.selectedId]])]),e("td",_e,n(++w),1),e("td",ye,[e("span",be,n(a.client_name),1)]),e("td",ge,n(a.client_id),1),e("td",we,n(a.client_erp_id),1),e("td",ve,n(a.created_at),1),e("td",ke,n(a.updated_at),1),e("td",xe,[e("div",$e,[e("div",Ce,[m((i(),g(M,{type:"button",onClick:y=>(t.editOpen=!0,t.client=a),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(d(X),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[_,l.can(["update client"])],[p,l.lang().tooltip.edit]]),m((i(),g(k,{type:"button",onClick:y=>(t.deleteOpen=!0,t.client=a),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(d(x),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[_,l.can(["delete client"])],[p,l.lang().tooltip.delete]])])])])]))),128))])])]),e("div",Oe,[r(L,{links:o.clients,filters:t.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Te as default};
